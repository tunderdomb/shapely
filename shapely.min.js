!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a){switch(!0){case"true"==a:case"false"==a:return Boolean(a);case/^(\d*[\.,])?\d+?$/.test(a):return parseFloat(a);default:return a}}function d(a){return"INPUT"==a.tagName}function e(a){return"SELECT"==a.tagName}function f(a){return a.multiple?[].slice.call(a.selectedOptions).map(function(a){return c(a.value)}):~a.selectedIndex?a.options[a.selectedIndex].value:null}function g(a,b){for(var c=-1,d=a.length,e=a.options;++c<d;)if(e[c].value==b)return e[c]}function h(a,b){a.multiple?b.forEach(function(b){g(a,b).selected=!0}):g(a,b).selected=!0}function i(a){return"checkbox"==a.type||"radio"==a.type}function j(a,b,c,d){function e(){f.syncModel()}var f=this;f.model=a,f.field=b,f.element=c,this.getSet=d||this.getSet,a.listen("change:"+b,function(){f.syncElement()}),c.addEventListener("change",e,!1),c.addEventListener("blur",e,!1),c.addEventListener("keyup",e,!1)}b.exports=function(a,b,c,d){return new j(a,b,c,d)},j.prototype={direction:0,syncElement:function(){1!=this.direction&&(this.direction=-1,this.getSet(this.element,this.model[this.field]()),this.direction=0)},syncModel:function(){-1!=this.direction&&(this.direction=1,this.model[this.field](this.getSet(this.element)),this.direction=0)},getSet:function(a,b){return void 0===b?d(a)&&i(a)?a.checked:e(a)?f(a):c(a.value):(d(a)&&i(a)?a.checked=!!b:e(a)&&h(a,b),void(a.value=b))}}},{}],2:[function(a,b){(function(c){var d=a("./model");b.exports=d,"undefined"!=typeof window&&c===window&&(c.shapely=d)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./model":3}],3:[function(a,b){function c(a){function b(b){this._values={},this._errors={},this.reset(),a.apply(this,b)}function c(){return new b(arguments)}a=a||d;var i=[];return b.prototype={constructor:b,fields:i,undefinedValue:void 0,validate:function(){return this._errors={},i.every(function(a){var b=this[a],c=this[a]();return!b.required||void 0!=c&&""!=c?b.type&&!b.type(c)?!1:!(b.validate&&!b.validate.call(this,c)):!1},this)},invalid:function(){return i.filter(function(a){var b=this[a],c=this[a]();return!b.required||void 0!=c&&""!=c?b.type&&!b.type(c)?!0:b.validate&&!b.validate.call(this,c):!0},this)},error:function(a,b){return void 0==b?this._errors[a]:void 0==a?this._errors:void(this._errors[a]=b)},every:function(a,b){return b=b||this,i.every(function(c){return a.call(b,this[c](),c)},this)},some:function(a,b){return b=b||this,i.some(function(c){return a.call(b,this[c](),c)},this)},foreEach:function(a,b){b=b||this,i.foreEach(function(c){a.call(b,this[c](),c)},this)},equals:function(a,b){return b=void 0==b||b,a.fields.length==this.fields.length&&i.every(function(c){return~a.fields.indexOf(c)&&this[c].equals?this[c].equals.call(this,this[c](),a[c]()):b?this[c]()===a[c]():this[c]()==a[c]()},this)},isSameModel:function(a){return b===a.constructor},isModelledFrom:function(a){return a===c},toArray:function(){var a=[];return i.forEach(function(b){a.push(this[b]())},this),a},toJSON:function(){var a=this;return i.reduce(function(b,c){return b[c]=a[c](),b},{})},toString:function(){return"[Object Model]"},select:function(a){var b=this;return a.reduce(function(a,c){return a[c]=b[c](),a},{})},bind:function(a,b,c){return h(this,a,b,c)},fromJSON:function(a){"string"==typeof a&&(a=JSON.parse(a));for(var b in a)a.hasOwnProperty(b)&&this[b](a[b],!0);return this},reset:function(){return i.forEach(function(a){this[a](this[a].default,!0)},this),this},getValue:function(){return 0}},c.has=function(a,d){function e(b,c){if(void 0===b)b=a in this._values?this._values[a]:"default"in e?e.default:this.undefinedValue,b=g?g(b):b;else{var d=this._values[a];b=this._values[a]=h&&!c?h.call(this,b):b,c||(this.broadcast("change",a,d,b),this.broadcast("change:"+a,d,b))}return b}if(a in b.prototype)throw new Error("'"+a+"' already exists in model");d=d||{},e.validate=d.validate||function(a){return!(e.required&&(void 0==a||""==a))},"equals"in d&&(e.equals=d.equals),"type"in d&&(e.type=f(d.type,d)),"default"in d&&(e.default=d.default),e.required=d.required,i.push(a);var g=d.get,h=d.set;return b.prototype[a]=e,c},c.can=function(a,d){return"string"==typeof a&&"function"==typeof d?b.prototype[a]=d:d||e(b.prototype,a),c},c.prototype=b.prototype,e(b.prototype,g.prototype),c}var d=a("./util/noop"),e=a("./util/extend"),f=a("./type"),g=a("./radio"),h=a("./binding");b.exports=c},{"./binding":1,"./radio":4,"./type":5,"./util/extend":6,"./util/noop":7}],4:[function(a,b){function c(){}function d(a,b){return this.channels=this.channels||{},a=this.channels[a]||(this.channels[a]=[]),a.push(b),this}function e(a,b){if(!this.channels)return this;if(a)if(b){if(a=this.channels[a]){var c=a.indexOf(b);~c&&a.splice(c,1)}}else this.channels[a]=[];else this.channels={};return this}function f(a,b){return this.channels&&(a=this.channels[a])?(b=[].slice.call(arguments,1),a.forEach(function(a){a.apply(this,b)},this),this):this}function g(a,b){function c(){e.call(this,a,c),b.apply(this,arguments)}return d.call(this,a,c),this}function h(a,b){return this.channels?(a=this.channels[a],a&&b&&!!~a.indexOf(b)):!1}b.exports=c;var i=c.prototype={};i.listen=d,i.unListen=e,i.broadcast=f,i.listenOnce=g,i.hasListener=h},{}],5:[function(a,b){var c=b.exports=function(a,b){return function(d){return c[a](d,b)}};c.string=function(a){return"string"==typeof a},c.number=function(a,b){var c="number"==typeof a&&a===a;return c&&(b.inclusive||void 0==b.inclusive?("max"in b&&(c=c&&a<=b.max),"min"in b&&(c=c&&a>=b.min)):("max"in b&&(c=c&&a<b.max),"min"in b&&(c=c&&a>b.min))),c},c.select=function(a,b){var c=b.select||[];return a.some(function(a){return!!~c.indexOf(a)})},c["enum"]=function(a,b){return!!~(b.enum||[]).indexOf(a)},c.email=function(a){return/^[^@]+@(([^@]+\.)+[^@]+)$/.test(a)}},{}],6:[function(a,b){b.exports=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}},{}],7:[function(a,b){b.exports=function(){}},{}]},{},[2]);